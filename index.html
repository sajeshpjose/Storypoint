<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Story Points Room (Supabase)</title>

  <!-- Load Supabase Library -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

  <script>
    // Initialize Supabase Client
    const supabase = supabase.createClient(
      'https://pmwjivgywaaosudvxjrd.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtd2ppdmd5d2Fhb3N1ZHZ4anJkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU3MDA0NzksImV4cCI6MjA2MTI3NjQ3OX0.JvO-zw1rLk3_NaE3dkniqIqfjBeqLhmhbjysPWpi820'
    );

    // TEST Supabase Connection
    async function testSupabaseConnection() {
      const { data, error } = await supabase.from('rooms').select('*').limit(1);

      if (error) {
        console.error('Supabase connection error:', error.message);
        alert('❌ Supabase connection failed: ' + error.message);
      } else {
        console.log('✅ Supabase connection successful. Sample room data:', data);
        alert('✅ Supabase connection successful!');
      }
    }

    testSupabaseConnection(); // Call test immediately
  </script>

  <style>
    /* Your CSS stays same */
  </style>

</head>
<body>

<!-- Your HTML body here... (no change needed) -->

<!-- Your app JavaScript code here (createRoom, joinRoom, etc.) -->
<script>
  // Your createRoom, joinRoom, enterRoom, loadPoints, submitPoint, etc. functions here.
</script>

</body>
</html>
